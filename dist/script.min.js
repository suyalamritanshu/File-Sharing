"use strict";var File=require("./models/file"),fs=require("fs"),connectDB=require("./config/db");function deleteData(){var r,t,n,a,c,s,o,i;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date(Date.now()-864e5),e.next=3,regeneratorRuntime.awrap(File.find({createdAt:{$lt:r}}));case 3:if(!(t=e.sent).length){e.next=40;break}a=!(n=!0),c=void 0,e.prev=8,s=t[Symbol.iterator]();case 10:if(n=(o=s.next()).done){e.next=25;break}return i=o.value,e.prev=12,fs.unlinkSync(i.path),e.next=16,regeneratorRuntime.awrap(i.remove());case 16:console.log("successfully deleted. ".concat(i.filename)),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),console.log("Error while deleting file. ".concat(e.t0));case 22:n=!0,e.next=10;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(8),a=!0,c=e.t1;case 31:e.prev=31,e.prev=32,n||null==s.return||s.return();case 34:if(e.prev=34,a)throw c;e.next=37;break;case 37:return e.finish(34);case 38:return e.finish(31);case 39:console.log("Job done!");case 40:case"end":return e.stop()}},null,null,[[8,27,31,39],[12,19],[32,,34,38]])}connectDB(),deleteData().then(process.exit);
//# sourceMappingURL=script.min.js.map
