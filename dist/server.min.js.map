{"version":3,"sources":["server.js"],"names":["require","config","express","PORT","process","env","cors","app","path","connectDB","corsOptions","ALLOWED_CLIENTS","split","origin","use","set","join","__dirname","listen","log","console","concat"],"mappings":"aAAAA,QAAQ,UAAUC,SAClB,IAAMC,QAAUF,QAAQ,WADxBA,IAAQE,UAGFC,KAAOC,QAAQC,IAAIF,MAAQ,IAF3BD,KAAOF,QAAU,QAIjBM,KAAON,QAAQ,QADrBO,IAAMC,IAAIN,QAAGF,OAAQ,WACrB,IAAMM,UAAcN,QAApB,eAOAS,YAIA,IAAMC,YAAc,CAJpBD,OAKYL,QAHZC,IAAAM,gBAAAC,MAAA,MAGIC,IAAAA,IAAMP,KAAEF,cAGZG,IAAIO,IAAIR,QAAKI,QAKbH,IAAIQ,IAAI,QAASP,KAAKQ,KAAKC,UAAW,WACtCV,IAAIQ,IAAI,cAAe,OAIvBR,IAAIO,IAAI,aAAUd,QAAQ,mBAC1BO,IAAIO,IAAI,SAAAd,QAAR,kBAGAO,IAAIW,IAAAA,kBAAqBC,QAAR,sBAAjBZ,IAAIW,OAAOf,KAAMiB,QAAQD,IAAR,qBAAAE,OAAiClB,KAAjC","file":"server.min.js","sourcesContent":["require('dotenv').config();\r\nconst express = require('express');\r\nconst app = express();\r\nconst PORT = process.env.PORT || 3000;\r\nconst path = require('path');\r\nconst cors = require('cors');\r\n\r\n\r\n\r\napp.use(express.static('public'));\r\n\r\nconst connectDB = require('./config/db');\r\nconnectDB();\r\n\r\n// CORS\r\n\r\nconst corsOptions = {\r\n    origin: process.env.ALLOWED_CLIENTS.split(',')\r\n}\r\n\r\napp.use(cors(corsOptions));\r\n\r\napp.use(express.json());\r\n\r\n// Template engines\r\napp.set('views', path.join(__dirname, '/views'));\r\napp.set('view engine', 'ejs');\r\n\r\n// Routes \r\napp.use('/api/files', require('./routes/files'));\r\napp.use('/files', require('./routes/show'));\r\napp.use('/files/download', require('./routes/download'));\r\n\r\n\r\napp.listen(PORT, console.log(`Listening on port ${PORT}.`));"]}