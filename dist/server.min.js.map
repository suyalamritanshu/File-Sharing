{"version":3,"sources":["server.js"],"names":["require","config","express","PORT","process","env","app","path","connectDB","origin","ALLOWED_CLIENTS","split","use","cors","corsOptions","json","set","join","__dirname","listen","console","log","concat"],"mappings":"aAAAA,QAAQ,UAAUC,SAClB,IAAMC,QAAUF,QAAQ,WADxBA,IAAQE,UAGFC,KAAOC,QAAQC,IAAIF,MAAQ,IAF3BD,KAAOF,QAAU,QAGvBM,IAAMC,IAAIL,QAAGF,OAAQ,WAOrB,IAAMQ,UAAYR,QAAQ,eAF1BM,YAGAE,IAAAA,YAEA,CAGIC,OAAQL,QAAQC,IAAIK,gBAAgBC,MAAM,MAD1BL,IAApBM,IAAAC,KAAAC,cAMAR,IAAIM,IAAIV,QAAQa,QAIhBT,IAAIU,IAAI,QAAAT,KAARU,KAAuBC,UAEvB,WAFAZ,IAAIU,IAAI,cAAe,OAKvBV,IAAIM,IAAI,aAAAZ,QAAmBA,mBAG3BM,IAAIa,IAAAA,SAAaC,QAAQC,kBAHzBf,IAAIM,IAAI,kBAAmBZ,QAAQ,sBAGnCM,IAAIa,OAAOhB,KAAMiB,QAAQC,IAAR,qBAAAC,OAAiCnB,KAAjC","file":"server.min.js","sourcesContent":["require('dotenv').config();\r\nconst express = require('express');\r\nconst app = express();\r\nconst PORT = process.env.PORT || 3000;\r\nconst path = require('path');\r\n//const cors = require('cors');\r\n\r\n\r\n\r\napp.use(express.static('public'));\r\n\r\nconst connectDB = require('./config/db');\r\nconnectDB();\r\n\r\n// CORS\r\n\r\nconst corsOptions = {\r\n    origin: process.env.ALLOWED_CLIENTS.split(',')\r\n}\r\n\r\napp.use(cors(corsOptions));\r\n\r\napp.use(express.json());\r\n\r\n// Template engines\r\napp.set('views', path.join(__dirname, '/views'));\r\napp.set('view engine', 'ejs');\r\n\r\n// Routes \r\napp.use('/api/files', require('./routes/files'));\r\napp.use('/files', require('./routes/show'));\r\napp.use('/files/download', require('./routes/download'));\r\n\r\n\r\napp.listen(PORT, console.log(`Listening on port ${PORT}.`));"]}