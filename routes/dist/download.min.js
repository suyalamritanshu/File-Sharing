"use strict";var router=require("express").Router(),File=require("../models/file");router.get("/:uuid",function(r,n){var t,u;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(File.findOne({uuid:r.params.uuid}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",n.render("download",{error:"Link has been expired."}));case 5:u="".concat(__dirname,"/../").concat(t.path),n.download(u);case 7:case"end":return e.stop()}})}),module.exports=router;
//# sourceMappingURL=download.min.js.map
